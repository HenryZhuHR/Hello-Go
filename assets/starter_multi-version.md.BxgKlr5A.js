import{_ as s,c as i,o as a,a5 as n}from"./chunks/framework.DJOr4NJ2.js";const F=JSON.parse('{"title":"Go 多版本管理","description":"","frontmatter":{"outline":"deep"},"headers":[],"relativePath":"starter/multi-version.md","filePath":"starter/multi-version.md","lastUpdated":1725184694000}'),l={name:"starter/multi-version.md"},e=n(`<h1 id="go-多版本管理" tabindex="-1">Go 多版本管理 <a class="header-anchor" href="#go-多版本管理" aria-label="Permalink to &quot;Go 多版本管理&quot;">​</a></h1><h2 id="官方多版本管理方案" tabindex="-1">官方多版本管理方案 <a class="header-anchor" href="#官方多版本管理方案" aria-label="Permalink to &quot;官方多版本管理方案&quot;">​</a></h2><p>官方版本管理方案参考 <a href="https://go.dev/doc/manage-install" target="_blank" rel="noreferrer"><em>Managing Go installations</em></a></p><p>安装新版本 Go 例如</p><div class="language-shell vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">shell</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># 下载 Go 1.20 版本</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">go</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> install</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> golang.org/dl/go1.20@latest</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># go: downloading golang.org/dl v0.0.0-20240813161640-304e16060ce9</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># 如果可以搜到版本，则继续下载</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">go1.20</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> download</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># Unpacking ~/sdk/go1.20/go1.20.darwin-arm64.tar.gz ...</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># Success. You may now run &#39;go1.20&#39;</span></span></code></pre></div><p>随后就可以使用 <code>go1.20</code> 命令来使用 Go 1.20 版本，例如查看版本和环境变量确认是否切换成功</p><div class="language-shell vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">shell</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">go1.20</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> version</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># go version go1.20 darwin/arm64</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">go1.20</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> env</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> GOROOT</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">      </span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># ~/sdk/go1.20</span></span></code></pre></div><h2 id="gvm" tabindex="-1">GVM <a class="header-anchor" href="#gvm" aria-label="Permalink to &quot;GVM&quot;">​</a></h2><h3 id="安装-gvm" tabindex="-1">安装 GVM <a class="header-anchor" href="#安装-gvm" aria-label="Permalink to &quot;安装 GVM&quot;">​</a></h3><p><a href="https://github.com/moovweb/gvm" target="_blank" rel="noreferrer">GVM (Go Version Manager)</a> 是一个 Go 语言版本管理工具，可以方便的安装和管理多个版本的 Go 语言</p><div class="vp-code-group vp-adaptive-theme"><div class="tabs"><input type="radio" name="group-CYo2I" id="tab-0TI5v66" checked><label for="tab-0TI5v66">自动安装</label><input type="radio" name="group-CYo2I" id="tab-XLhNfCa"><label for="tab-XLhNfCa">手动安装</label></div><div class="blocks"><div class="language-shell vp-adaptive-theme active"><button title="Copy Code" class="copy"></button><span class="lang">shell</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">bash</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> &lt;</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &lt;(</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">curl</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> -s</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> -S</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> -L</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> https://raw.githubusercontent.com/moovweb/gvm/master/binscripts/gvm-installer)</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># Cloning from https://github.com/moovweb/gvm.git to ~/.gvm</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># macOS detected. User shell is: /bin/zsh</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># Created profile for existing install of Go at &#39;/opt/homebrew/Cellar/go/1.22.2/libexec&#39;</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># Installed GVM v1.0.22</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># Please restart your terminal session or to get started right away run</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">#  \`source ~/.gvm/scripts/gvm\`</span></span></code></pre></div><div class="language-shell vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">shell</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># 科学上网下载该脚本</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">curl</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> -o</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> gvm-installer</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> https://raw.githubusercontent.com/moovweb/gvm/master/binscripts/gvm-installer</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> </span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">chmod</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> +x</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> gvm-installer</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">./gvm-installer</span></span></code></pre></div></div></div><p>估计安装提示，重启终端或者执行 <code>source ~/.gvm/scripts/gvm</code> 使得 gvm 生效。</p><p>激活脚本已经写入 <code>~/.zshrc</code>(<code>~/.bashrc</code>) 文件中，启动终端会自动激活 gvm</p><div class="language-shell vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">shell</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">[[ </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">-s</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">$HOME</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">/.gvm/scripts/gvm&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> ]] &amp;&amp; </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">source</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">$HOME</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">/.gvm/scripts/gvm&quot;</span></span></code></pre></div><h3 id="使用-gvm-管理-go-版本" tabindex="-1">使用 gvm 管理 Go 版本 <a class="header-anchor" href="#使用-gvm-管理-go-版本" aria-label="Permalink to &quot;使用 gvm 管理 Go 版本&quot;">​</a></h3><p>查看可用的 go 版本</p><div class="language-shell vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">shell</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">gvm</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> listall</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># gvm gos (available)</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">#    go1</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">#    go1.0.1</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">#    ...</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">#    go1.20</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">#    go1.21.0</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">#    ...</span></span></code></pre></div><p>安装指定版本</p><div class="language-shell vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">shell</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">gvm</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> install</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> go1.20</span></span></code></pre></div><p>切换到指定版本，或者设置默认版本</p><div class="language-shell vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">shell</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">gvm</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> use</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> go1.20</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">gvm</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> use</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> go1.20</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> --default</span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">  # 设置默认版本</span></span></code></pre></div><p>查看当前使用的版本（两个命令都可以查询）</p><div class="language-shell vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">shell</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">go</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> version</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># go version go1.20 darwin/arm64</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">gvm</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> list</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># gvm gos</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># =&gt; go1.20</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">#    system</span></span></code></pre></div><p>卸载指定版本</p><div class="language-shell vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">shell</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">gvm</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> uninstall</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> go1.20</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">gvm</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> use</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> system</span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">  # 切换到系统版本，否则 go 会无法使用</span></span></code></pre></div>`,25),t=[e];function p(h,k,d,g,o,r){return a(),i("div",null,t)}const v=s(l,[["render",p]]);export{F as __pageData,v as default};
